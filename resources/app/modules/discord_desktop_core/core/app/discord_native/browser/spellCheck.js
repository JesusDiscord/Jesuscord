"use strict";const electron=require("electron"),{SPELLCHECK_REPLACE_MISSPELLING:SPELLCHECK_REPLACE_MISSPELLING,SPELLCHECK_GET_AVAILABLE_DICTIONARIES:SPELLCHECK_GET_AVAILABLE_DICTIONARIES,SPELLCHECK_SET_LOCALE:SPELLCHECK_SET_LOCALE,SPELLCHECK_SET_LEARNED_WORDS:SPELLCHECK_SET_LEARNED_WORDS}=require("../common/constants").IPCEvents;let _learnedWords=new Set,_hasLoadedLearnedWords=!1;electron.ipcMain.handle(SPELLCHECK_REPLACE_MISSPELLING,async(e,E)=>{e.sender.replaceMisspelling(E)}),electron.ipcMain.handle(SPELLCHECK_GET_AVAILABLE_DICTIONARIES,async e=>electron.session.defaultSession.availableSpellCheckerLanguages),electron.ipcMain.handle(SPELLCHECK_SET_LOCALE,async(e,E)=>{electron.session.defaultSession.setSpellCheckerLanguages([E])}),electron.ipcMain.handle(SPELLCHECK_SET_LEARNED_WORDS,async(e,E)=>{const L=electron.session.defaultSession;if(!_hasLoadedLearnedWords){const e=await L.listWordsInSpellCheckerDictionary();_learnedWords=new Set(e),_hasLoadedLearnedWords=!0}_learnedWords.forEach(e=>{E.has(e)||L.removeWordFromSpellCheckerDictionary(e)}),E.forEach(e=>{_learnedWords.has(e)||L.addWordToSpellCheckerDictionary(e)}),_learnedWords=new Set(E)});