"use strict";const electron=require("electron"),{POWER_SAVE_BLOCKER_BLOCK_DISPLAY_SLEEP:POWER_SAVE_BLOCKER_BLOCK_DISPLAY_SLEEP,POWER_SAVE_BLOCKER_UNBLOCK_DISPLAY_SLEEP:POWER_SAVE_BLOCKER_UNBLOCK_DISPLAY_SLEEP,POWER_SAVE_BLOCKER_CLEANUP_DISPLAY_SLEEP:POWER_SAVE_BLOCKER_CLEANUP_DISPLAY_SLEEP}=require("../common/constants").IPCEvents,powerSaveBlockerIds=new Set;electron.ipcMain.handle(POWER_SAVE_BLOCKER_BLOCK_DISPLAY_SLEEP,async e=>{const E=electron.powerSaveBlocker.start("prevent-display-sleep");return powerSaveBlockerIds.add(E),E}),electron.ipcMain.handle(POWER_SAVE_BLOCKER_UNBLOCK_DISPLAY_SLEEP,async(e,E)=>{electron.powerSaveBlocker.stop(E),powerSaveBlockerIds.delete(E)}),electron.ipcMain.handle(POWER_SAVE_BLOCKER_CLEANUP_DISPLAY_SLEEP,async e=>{for(const e of powerSaveBlockerIds)electron.powerSaveBlocker.stop(e);powerSaveBlockerIds.clear()});