"use strict";const electron=require("electron"),{POWER_MONITOR_RESUME:POWER_MONITOR_RESUME,POWER_MONITOR_SUSPEND:POWER_MONITOR_SUSPEND,POWER_MONITOR_LOCK_SCREEN:POWER_MONITOR_LOCK_SCREEN,POWER_MONITOR_UNLOCK_SCREEN:POWER_MONITOR_UNLOCK_SCREEN,POWER_MONITOR_GET_SYSTEM_IDLE_TIME:POWER_MONITOR_GET_SYSTEM_IDLE_TIME}=require("../common/constants").IPCEvents;function sendToAllWindows(e){electron.BrowserWindow.getAllWindows().forEach(o=>{const O=o.webContents;null!=O&&O.send(e)})}electron.ipcMain.handle(POWER_MONITOR_GET_SYSTEM_IDLE_TIME,async e=>1e3*electron.powerMonitor.getSystemIdleTime()),electron.powerMonitor.on("resume",()=>{sendToAllWindows(POWER_MONITOR_RESUME)}),electron.powerMonitor.on("suspend",()=>{sendToAllWindows(POWER_MONITOR_SUSPEND)}),electron.powerMonitor.on("lock-screen",()=>{sendToAllWindows(POWER_MONITOR_LOCK_SCREEN)}),electron.powerMonitor.on("unlock-screen",()=>{sendToAllWindows(POWER_MONITOR_UNLOCK_SCREEN)});