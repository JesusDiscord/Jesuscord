"use strict";const electron=require("electron"),lodash=require("lodash"),{reconcileCrashReporterMetadata:reconcileCrashReporterMetadata}=require("../../../common/crashReporterUtils"),{getElectronMajorVersion:getElectronMajorVersion}=require("../../../common/processUtils"),{metadata:metadata}=require("../../crashReporterSetup"),{CRASH_REPORTER_UPDATE_METADATA:CRASH_REPORTER_UPDATE_METADATA}=require("../common/constants").IPCEvents;electron.ipcMain.handle(CRASH_REPORTER_UPDATE_METADATA,async(e,r)=>{const t=lodash.defaultsDeep({},metadata,r||{}),a={metadata:t};if(getElectronMajorVersion()<9){const e=getCrashReporterArgs(t);a.args=e}return a});