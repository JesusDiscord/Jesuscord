"use strict";const electron=require("electron"),process=require("process"),{PROCESS_UTILS_GET_CPU_USAGE:PROCESS_UTILS_GET_CPU_USAGE,PROCESS_UTILS_GET_MEMORY_INFO:PROCESS_UTILS_GET_MEMORY_INFO,PROCESS_UTILS_FLUSH_DNS_CACHE:PROCESS_UTILS_FLUSH_DNS_CACHE,PROCESS_UTILS_FLUSH_COOKIES:PROCESS_UTILS_FLUSH_COOKIES,PROCESS_UTILS_FLUSH_STORAGE_DATA:PROCESS_UTILS_FLUSH_STORAGE_DATA,PROCESS_UTILS_GET_MAIN_ARGV_SYNC:PROCESS_UTILS_GET_MAIN_ARGV_SYNC}=require("../common/constants").IPCEvents;electron.ipcMain.handle(PROCESS_UTILS_GET_CPU_USAGE,async S=>{let e=0;for(const S of electron.app.getAppMetrics())e+=S.cpu.percentCPUUsage;return e}),electron.ipcMain.handle(PROCESS_UTILS_GET_MEMORY_INFO,async S=>process.getProcessMemoryInfo()),electron.ipcMain.handle(PROCESS_UTILS_FLUSH_DNS_CACHE,async S=>{const e=electron.session.defaultSession;e&&e.clearHostResolverCache&&e.clearHostResolverCache()}),electron.ipcMain.handle(PROCESS_UTILS_FLUSH_COOKIES,async S=>electron.session.defaultSession.cookies.flushStore()),electron.ipcMain.handle(PROCESS_UTILS_FLUSH_STORAGE_DATA,async S=>{electron.session.defaultSession.flushStorageData()}),electron.ipcMain.on(PROCESS_UTILS_GET_MAIN_ARGV_SYNC,S=>{S.returnValue=process.argv});